{# templates/finance.html #}
{% extends 'base.html' %}

{% block head %}
  <title>USP Student Services â€“ Finance Menu</title>

  {# 1) homepage tiles styles #}
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/homepage_style.css') }}"
  />

  {# 2) finance-specific overrides #}
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/finance.css') }}"
  />

  {# 3) Material Icons #}
  <link
    href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
    rel="stylesheet"
  />
{% endblock %}

{% block body %}
  <main class="finance-page">
    <section class="features-grid-container">
      <div class="features-grid finance-grid">
        <!-- Invoices -->
        <div class="feature-tile" onclick="navigateTo('/finance/invoices')">
          <span class="material-icons-outlined feature-icon">receipt_long</span>
          <div class="feature-label">Invoices</div>
        </div>
        <!-- Payments & Credits -->
        <div class="feature-tile" onclick="navigateTo('/finance/payments')">
          <span class="material-icons-outlined feature-icon">payment</span>
          <div class="feature-label">Payments & Credits</div>
        </div>
        <!-- Refunds -->
        <div class="feature-tile" onclick="navigateTo('/finance/refunds')">
          <span class="material-icons-outlined feature-icon">undo</span>
          <div class="feature-label">Refunds</div>
        </div>
        <!-- Holds -->
        <div class="feature-tile" onclick="navigateTo('/finance/holds')">
          <span class="material-icons-outlined feature-icon">lock</span>
          <div class="feature-label">Holds</div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // load same header/footer as homepage
    async function loadHeaderAndFooter() {
      try {
        const [hdr, ftr] = await Promise.all([
          fetch('{{ url_for("static", filename="templates/header.html") }}'),
          fetch('{{ url_for("static", filename="templates/footer.html") }}'),
        ]);
        document.getElementById('header-container').innerHTML = await hdr.text();
        document.getElementById('footer-container').innerHTML = await ftr.text();
      } catch (err) {
        console.error('Error loading header/footer:', err);
      }
    }
    window.addEventListener('DOMContentLoaded', loadHeaderAndFooter);

    // same nav function as homepage
    function navigateTo(path) {
      window.location.href = path;
    }
  </script>
{% endblock %}
