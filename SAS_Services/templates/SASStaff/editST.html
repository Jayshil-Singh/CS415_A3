{# templates/SASStaff/editST.html #}
{% extends 'base.html' %}

{% block head %}
    {{ super() }}
    <title>Student Records Overview | SAS Portal</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/SASStaff/editST.css') }}">
    <style>
        /* Make rows clickable if not using a direct link on a cell */
        .student-link-row {
            cursor: pointer;
        }
        .student-link-row:hover {
            background-color: #f0f0f0; /* Example hover effect */
        }
    </style>
{% endblock %}

{% block header %}
    {{ super() }}
{% endblock %}

{% block body_class %}view-students-list-page{% endblock %}

{% block body %}
    <div class="container">

        <div class="page-title-container">
            <h1 id="page-main-title">Student Records</h1>
        </div>

        <div id="loading-indicator" class="loading-indicator" style="display: none;"> {# Initially hidden, JS can show it #}
            <div class="spinner"></div>
            <p>Loading student records...</p>
        </div>

        <div id="no-students-message" class="no-students-message" style="display: none;">
            <p>No students found. You can register new students via the dashboard.</p>
        </div>

        <div id="student-table-container" class="student-table-container" style="display: none;">
            <div class="table-wrapper">
                <table id="students-overview-table">
                    <thead>
                        <tr>
                            <th>Student ID</th>
                            <th>Full Name</th>
                            <th>Campus</th>
                        </tr>
                    </thead>
                    <tbody id="students-table-body">
                        {# 
                           This section will be populated by Flask/Jinja2 or JavaScript.
                           Below is an example of how it would look with Flask/Jinja2 and dummy data.
                           Replace 'students' with the actual list of student objects passed from your Flask route.
                           Each student object should have at least 'id', 'first_name', 'last_name', 'campus'.
                        #}

                        {# --- EXAMPLE WITH DUMMY DATA (REMOVE/REPLACE WITH FLASK LOOP) --- #}
                        {% set students_dummy = [
                            { 'id': 'S12345678', 'first_name': 'John', 'middle_name': 'Michael', 'last_name': 'Doe', 'campus': 'Laucala' },
                            { 'id': 'S87654321', 'first_name': 'Jane', 'middle_name': 'Elizabeth', 'last_name': 'Smith', 'campus': 'Laucala' },
                            { 'id': 'S11223344', 'first_name': 'Peter', 'middle_name': 'James', 'last_name': 'Jones', 'campus': 'Solomon Islands' }
                        ] %}

                        {% if students_dummy %}
                            {% for student in students_dummy %}
                            {# Option 1: Make the whole row clickable with JS (see editST.js example below) #}
                            {# <tr class="student-link-row" data-href="{{ url_for('sas_staff_display_student', student_id=student.id) }}"> #}
                            
                            {# Option 2: Make a specific cell a link (simpler for pure HTML/Jinja) #}
                             <tr>
                                <td>
                                    <a href="{{ url_for('sas_staff_display_student', student_id=student.id) }}">
                                        {{ student.id }}
                                    </a>
                                </td>
                                <td>{{ student.first_name }} {{ student.middle_name if student.middle_name }} {{ student.last_name }}</td>
                                <td>{{ student.campus }}</td>
                            </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <td colspan="3" style="text-align:center;">No student records to display.</td>
                            </tr>
                        {% endif %}
                        {# --- END DUMMY DATA EXAMPLE --- #}
                    </tbody>
                </table>
            </div>
        </div>

        {# Snackbar for notifications (can remain if other actions on this page warrant it) #}
        <div id="snackbar" class="snackbar">Snackbar message will appear here.</div>

    </div> {# End .container #}
{% endblock %}

{% block footer %}
    {{ super() }}
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/SASStaff/editST.js') }}"></script>
{% endblock %}